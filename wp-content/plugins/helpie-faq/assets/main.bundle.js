!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./",o(o.s=1)}([,function(e,t,o){"use strict";o.r(t),o(6);var i=o(2),n=o(3),r=o(4),a={nonce:helpie_faq_nonce,init:function(){this.onPageLoadActions(),this.eventHandlers(),n.init(this.nonce),i.init(),r.init()},eventHandlers:function(){var e=this,t=document.querySelector("section.helpie-faq");null!==t&&"undefined"!==t&&void 0!==t&&t.addEventListener("click",this.helpieFaqToggleHandler,!0),jQuery(".accordion__header").on("click",function(t){if(t.preventDefault(),t.stopPropagation(),e.isFaqList(jQuery(this)))return!1;e.onHeaderClick(this);var o=jQuery(this).attr("data-item");void 0!==o&&"undefined"!==o&&""!==o&&(window.location.hash=jQuery(this).attr("data-item"))}),jQuery(".accordion__title").on("click",function(t){var o=jQuery(this).closest(".accordion__header");if(t.preventDefault(),t.stopPropagation(),e.isFaqList(jQuery(this)))return!1;e.onHeaderClick(o);var i=o.attr("data-item");void 0!==i&&"undefined"!==i&&""!==i&&(window.location.hash=o.attr("data-item"))})},helpieFaqToggleHandler:function(e){1!=e.target.classList.contains("accordion__header")&&1!=e.target.classList.contains("accordion__title")&&1!=e.target.classList.contains("form__toggle")&&1!=e.target.classList.contains("form__submit")&&!0!==e.target.classList.contains("accordion__toggle-icons")&&e.stopPropagation()},openFirstAccordion:function(){jQuery(".helpie-faq.accordions.open-first > .accordion:first").each(function(){var e=".accordion__item:first > .accordion__header";jQuery(this).find(e).addClass("active"),jQuery(this).find(e).next(".accordion__body").stop().slideDown(300)})},onPageLoadActions:function(){var e=window.location.hash,t=!1;""!=e&&(t=this.openHFaqAccordion(e)),t||this.openFirstAccordion()},onHeaderClick:function(e){jQuery(e).hasClass("active")?this.closeAccordion(e):(jQuery(e).closest(".helpie-faq.accordions").hasClass("toggle")&&(jQuery(e).closest(".accordion").find(".accordion__header").removeClass("active"),jQuery(e).closest(".accordion").find(".accordion__body").slideUp()),this.openAccordion(e))},openAccordion:function(e){jQuery(e).addClass("active"),jQuery(e).next(".accordion__body").stop().slideDown(300);var t=jQuery(e).attr("data-id");n.clickCounter(t)},closeAccordion:function(e){jQuery(e).removeClass("active"),jQuery(e).next(".accordion__body").stop().slideUp(300)},openHFaqAccordion:function(e){var t=!1;return jQuery(".helpie-faq.accordions .accordion .accordion__item").each(function(){if("#"+jQuery(this).find(".accordion__header").attr("data-item")===e){if(jQuery(this).find(".accordion__header").addClass("active"),jQuery(this).find(".accordion__header").next(".accordion__body").stop().slideDown(300),0<jQuery(this).parents(".accordion").length){var o=jQuery(this).closest(".accordion").parent();o.prev().addClass("active"),o.show()}var i=jQuery(this).find(".accordion__header").offset().top;return i-=parseInt(70),window.scrollTo({top:i,behavior:"smooth"}),!(t=!0)}}),t},isFaqList:function(e){return jQuery(e).closest("article.faq_list").length}};jQuery(document).ready(function(){a.init()})},function(t,o){var i={searchTerm:"",typingTimer:0,doneTypingInterval:2e3,accordion:".accordion",accordionHeader:".accordion .accordion__item .accordion__header",setSearchAttr:function(){jQuery(this.accordionHeader).each(function(){var e=jQuery(this).text().toLowerCase();0<jQuery(this).closest(".accordion").closest(".accordion__body").closest(".accordion__item").length&&(e+=" "+jQuery(this).closest(".accordion").closest(".accordion__body").closest(".accordion__item").find(".accordion__header").first().text().toLowerCase()),jQuery(this).attr("data-search-term",e)}),jQuery(".helpie-faq.accordions .accordion__section h3").each(function(){var e=jQuery(this).text().toLowerCase();jQuery(this).attr("data-search-term",e)})},isContentMatch:function(e,t){return 0<=jQuery(e).closest(".accordion__item").find(".accordion__body").text().toLowerCase().indexOf(t)},isTitleMatch:function(e,t){return!!(0<jQuery(e).filter("[data-search-term *= "+t+"]").length||t.length<1)},onSearchKeyup:function(e){var t=this,o=jQuery(e).val().toLowerCase();if(t.searchTerm=jQuery(e).val().toLowerCase(),jQuery(e).closest(".helpie-faq.accordions").find(t.accordionHeader).each(function(){var e=t.isTitleMatch(this,o),i=t.isContentMatch(this,o);if(1==(e||i)){jQuery(this).closest(".accordion__item").show();var n=jQuery(this).closest(".accordion__item").closest(".accordion__body").closest(".accordion__item");0<n.length&&n.show()}else jQuery(this).closest(".accordion__item").hide()}),jQuery(e).closest(".helpie-faq.accordions").find(t.accordion).each(function(){var e=jQuery(this).find(".accordion__item").length,t=0;jQuery(this).find(".accordion__item").each(function(){"none"===jQuery(this).css("display")&&(t+=1)}),e==t?(jQuery(this).hide(),jQuery(this).prev("h3").hide()):(jQuery(this).show(),jQuery(this).prev("h3").show())}),!(o.length<1))return jQuery(e).closest(".helpie-faq.accordions").has(".accordion__section")?(jQuery(e).closest(".helpie-faq.accordions").find(".accordion").each(function(){var e=!1;jQuery(this).find(".accordion__item").each(function(){var i=t.isTitleMatch(this,o),n=t.isContentMatch(this,o);e=e||i||n}),0==e?jQuery(this).closest(".accordion__section").hide():jQuery(this).closest(".accordion__section").show(),1==!!(0<jQuery(this).closest(".accordion__section").find("h3").filter('[data-search-term *= "'+o+'"]').length||o.length<1)&&(jQuery(this).closest(".accordion__section").show(),jQuery(this).closest(".accordion__section").find(".accordion .accordion__item").show())}),o):void 0;jQuery(e).closest(".helpie-faq.accordions").find(".accordion__section").show()},onSearchKeydown:function(t){if(13==e.keyCode){e.preventDefault(),e.stopPropagation();var o=jQuery("input[class=live-search-box]").val();o&&(jQuery("<li/>",{text:o,"data-search-term":o.toLowerCase()}).appendTo(jQuery("ul")),jQuery("input[class=live-search-box]").val(""))}},init:function(){var e=this;e.setSearchAttr(),jQuery("body").on("keyup",".live-search-box",function(){var t=e.onSearchKeyup(this);clearTimeout(e.typingTimer),e.typingTimer=setTimeout(function(){var o={action:"helpie_faq_search_counter",nonce:e.nonce,searchTerm:t};jQuery.post(my_faq_ajax_object.ajax_url,o,function(e){})},e.doneTypingInterval)}),jQuery("input[class=live-search-box]").keydown(function(t){e.onSearchKeydown(this),clearTimeout(e.typingTimer)})}};t.exports=i},function(e,t){var o={init:function(e){},clickCounter:function(e){this.ajaxRequest(e)},ajaxRequest:function(e){var t={action:"helpie_faq_click_counter",nonce:this.nonce,id:e};jQuery.post(my_faq_ajax_object.ajax_url,t,function(e){})}};e.exports=o},function(e,t,o){var i=o(5),n={init:function(){this.eventHandler()},eventHandler:function(){this.toggleForm(),this.submitForm(),"premium"==helpie_faq_plan&&i.getLoggedEmail()},submitForm:function(){var e=this;jQuery(".helpie-faq").on("click",".form__submit",function(t){t.stopPropagation();var o=jQuery(this).closest(".form__section"),n=o.find(".form__text").val(),r=o.find(".form__email").val(),a=o.find(".form__textarea").val(),c=o.data("woo-product"),s=o.data("kb-category"),d={action:"helpie_faq_submission",nonce:e.nonce,question:n};r&&(d.email=r),a&&(d.answer=a),c&&(d.woo_product=c),s&&(d.kb_category=s),(n&&e._isEmail(r)||n&&null==r)&&(t.preventDefault(),i.postForm(d,o))})},toggleForm:function(){jQuery(".helpie-faq").on("click",".form__toggle",function(e){e.preventDefault(),e.stopPropagation();var t=jQuery(this).parent().next(".form__section");t.next().hide(),this.value===faqStrings.addFAQ?(this.value=faqStrings.hide,t.show()):(this.value=faqStrings.addFAQ,t.hide())})},_isEmail:function(e){return!!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}};e.exports=n},function(e,t){var o={postForm:function(e,t){thisModule=this,jQuery.post(my_faq_ajax_object.ajax_url,e,function(o){var i=JSON.parse(o);"publish"==i.postStatus?(thisModule._successMessage(t),thisModule._appendItem(e,t)):"pending"==i.postStatus&&thisModule._successMessage(t)}),t.find(".form__text").val(""),t.find(".form__email").val(""),t.find(".form__textarea").val(""),"premium"==helpie_faq_plan&&thisModule.getLoggedEmail()},getLoggedEmail:function(){thisModule=this;var e={action:"helpie_faq_submission_get_logged_email",nonce:thisModule.nonce},t=jQuery(".form__section .form__email");t&&jQuery.get(my_faq_ajax_object.ajax_url,e,function(e){var o=JSON.parse(e);o.loggedEmail&&t.val(o.loggedEmail)})},_appendItem:function(e,t){var o=t.parent().find(".accordion"),i={action:"helpie_faq_submission_get_item",nonce:thisModule.nonce,title:e.question};i.content=e.answer?e.answer:"Empty Content",jQuery.post(my_faq_ajax_object.ajax_url,i,function(e){var t=JSON.parse(e);o.append(t.singleItem)})},_successMessage:function(e){e.hide(),e.next().show()}};e.exports=o},function(e,t,o){}]);
//# sourceMappingURL=main.bundle.js.map