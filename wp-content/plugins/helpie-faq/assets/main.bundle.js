!function(e){var o={};function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=o,i.d=function(e,o,n){i.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,o){if(1&o&&(e=i(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var t in e)i.d(n,t,function(o){return e[o]}.bind(null,t));return n},i.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(o,"a",o),o},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},i.p="./",i(i.s=2)}([function(e,o){e.exports={init:function(e){},searchCounter:function(e){e={action:"helpie_faq_search_counter",nonce:thisModule.nonce,searchTerm:e},jQuery.post(helpie_faq_object.ajax_url,e,(function(e){}))},clickCounter:function(e){this.ajaxRequest(e)},ajaxRequest:function(e){e={action:"helpie_faq_click_counter",nonce:this.nonce,id:e},jQuery.post(helpie_faq_object.ajax_url,e,(function(e){}))}}},,function(e,o,i){"use strict";i.r(o);o=i(6);var n=i(3),t=i(0),a=i(4),r={nonce:helpie_faq_object.nonce,init:function(){this.onPageLoadActions(),this.eventHandlers(),t.init(this.nonce),n.init(),a.init()},eventHandlers:function(){var e=this,o=document.querySelector("section.helpie-faq");null!==o&&"undefined"!==o&&void 0!==o&&o.addEventListener("click",this.helpieFaqToggleHandler,!0),jQuery(".accordion__header").on("click",(function(o){if(o.preventDefault(),o.stopPropagation(),e.isFaqList(jQuery(this)))return!1;e.onHeaderClick(this),void 0!==(o=jQuery(this).attr("data-item"))&&"undefined"!==o&&""!==o&&(window.location.hash=jQuery(this).attr("data-item"))})),jQuery(".accordion__title").on("click",(function(o){var i=jQuery(this).closest(".accordion__header");if(o.preventDefault(),o.stopPropagation(),e.isFaqList(jQuery(this)))return!1;e.onHeaderClick(i),void 0!==(o=i.attr("data-item"))&&"undefined"!==o&&""!==o&&(window.location.hash=i.attr("data-item"))}))},helpieFaqToggleHandler:function(e){1!=e.target.classList.contains("accordion__header")&&1!=e.target.classList.contains("accordion__title")&&1!=e.target.classList.contains("form__toggle")&&1!=e.target.classList.contains("form__submit")&&!0!==e.target.classList.contains("accordion__toggle-icons")&&e.stopPropagation()},openFirstAccordion:function(){jQuery(".helpie-faq.accordions.open-first > .accordion:first").each((function(){var e=".accordion__item:first > .accordion__header";jQuery(this).find(e).addClass("active"),jQuery(this).find(e).next(".accordion__body").stop().slideDown(300)}))},onPageLoadActions:function(){var e=window.location.hash,o=!1;(o=""!=e?this.openHFaqAccordion(e):o)||this.openFirstAccordion()},onHeaderClick:function(e){jQuery(e).hasClass("active")?this.closeAccordion(e):(jQuery(e).closest(".helpie-faq.accordions").hasClass("toggle")&&(jQuery(e).closest(".accordion").find(".accordion__header").removeClass("active"),jQuery(e).closest(".accordion").find(".accordion__body").slideUp()),this.openAccordion(e))},openAccordion:function(e){jQuery(e).addClass("active"),jQuery(e).next(".accordion__body").stop().slideDown(300),e=jQuery(e).attr("data-id"),t.clickCounter(e)},closeAccordion:function(e){jQuery(e).removeClass("active"),jQuery(e).next(".accordion__body").stop().slideUp(300)},openHFaqAccordion:function(e){var o=!1;return jQuery(".helpie-faq.accordions .accordion .accordion__item").each((function(){if("#"+jQuery(this).find(".accordion__header").attr("data-item")===e){jQuery(this).find(".accordion__header").addClass("active"),jQuery(this).find(".accordion__header").next(".accordion__body").stop().slideDown(300),0<jQuery(this).parents(".accordion").length&&((i=jQuery(this).closest(".accordion").parent()).prev().addClass("active"),i.show());var i=jQuery(this).find(".accordion__header").offset().top;return i-=parseInt(70),window.scrollTo({top:i,behavior:"smooth"}),!(o=!0)}})),o},isFaqList:function(e){return jQuery(e).closest("article.faq_list").length}};jQuery(document).ready((function(){r.init()}))},function(e,o,i){var n=i(0),t={accordions:".helpie-faq.accordions",faqSearch:".helpie-faq .searchWrapper .search__input",accordion:".accordion",accordionHeading:".accordion__heading",accordionHeadingShow:"accordion__heading--show",accordionHeadingHide:"accordion__heading--hide",accordionHeader:".accordion .accordion__item .accordion__header",accordionItem:".accordion__item",accordionItemShow:"accordion__item--show",accordionItemHide:"accordion__item--hide",emptySearchWrapper:".search .searchEmptyWrapper",emptyFAQsContent:"<p class='searchEmptyWrapper__content'>"+faqStrings.noFaqsFound+"</p>"};e.exports={searchTerm:"",typingTimer:0,doneTypingInterval:2e3,setSearchAttr:function(){jQuery(t.accordionHeader).each((function(){var e=jQuery(this).text().toLowerCase();jQuery(this).attr("data-search-term",e)}))},isContentMatch:function(e,o){return 0<=jQuery(e).closest(t.accordionItem).find(".accordion__body").text().toLowerCase().indexOf(o)},isTitleMatch:function(e,o){return null!=(e=jQuery(e).attr("data-search-term"))&&"undefined"!=e&&-1!=e.search(o)},onSearchKeyup:function(e){var o=this,i=o.searchTerm;jQuery(e).closest(t.accordions).find(t.accordionHeader).each((function(){var e=o.isTitleMatch(this,i),n=o.isContentMatch(this,i);1==(e||n)?(jQuery(this).closest(t.accordionItem).removeClass(t.accordionItemHide).addClass(t.accordionItemShow),0<(n=jQuery(this).closest(t.accordionItem).closest(".accordion__body").closest(t.accordionItem)).length&&n.show()):jQuery(this).closest(t.accordionItem).removeClass(t.accordionItemShow).addClass(t.accordionItemHide)})),jQuery(e).closest(t.accordions).find(t.accordion).each((function(){var e=jQuery(this).find(t.accordionItem).length,o=0;0<=jQuery(this).prev(t.accordionHeading).text().toLowerCase().indexOf(i)?(jQuery(this).prev(t.accordionHeading).removeClass(t.accordionHeadingHide).addClass(t.accordionHeadingShow),jQuery(this).show(),jQuery(this).find(t.accordionItem).removeClass(t.accordionItemHide).addClass(t.accordionItemShow)):(jQuery(this).find(t.accordionItem).each((function(){"none"===jQuery(this).css("display")&&(o+=1)})),e==o?(jQuery(this).hide(),jQuery(this).prev(t.accordionHeading).removeClass(t.accordionHeadingShow).addClass(t.accordionHeadingHide)):(jQuery(this).show(),jQuery(this).prev(t.accordionHeading).removeClass(t.accordionHeadingHide).addClass(t.accordionHeadingShow)))}))},init:function(){var e=this;e.setSearchAttr(),jQuery("body").on("keyup",t.faqSearch,(function(o){var i=jQuery(this).val().toLowerCase().replace(/[.*+?^${}()|[\]\\]/gi,"");if(e.searchTerm=i,e.canSeeEmptyFAQsBlock(this,"hide"),""==e.searchTerm)return e.showAllAccordions(this),!1;var t=e.onSearchKeyup(this);if(e.showEmptyFAQsContent(this),""==e.searchTerm)return!1;clearTimeout(e.typingTimer),e.typingTimer=setTimeout((function(){n.searchCounter(t)}),e.doneTypingInterval)}))},showAllAccordions:function(e){jQuery(e).closest(t.accordions).find(t.accordion).each((function(){var e=jQuery(this);e.show(),e.prev(t.accordionHeading).removeClass(t.accordionHeadingHide).addClass(t.accordionHeadingShow),e.find(t.accordionItem).removeClass(t.accordionItemHide).addClass(t.accordionItemShow)}))},showEmptyFAQsContent:function(e){var o=0,i=jQuery(e).closest(t.accordions).find(t.accordionItem).length;jQuery(e).closest(t.accordions).find(t.accordionItem).each((function(){0==jQuery(this).is(":visible")&&(o=parseInt(o)+1)})),o==i&&jQuery(e).closest(t.accordions).find(t.emptySearchWrapper).empty().show().append(t.emptyFAQsContent)},canSeeEmptyFAQsBlock:function(e,o){o="show"==o?"block":"none",jQuery(e).closest(t.accordions).find(t.emptySearchWrapper).css("display",o)},displayHeading:function(e,o){var i=1==o?t.accordionHeadingShow:t.accordionHeadingHide;e.removeClass(0==o?t.accordionHeadingHide:t.accordionHeadingShow).addClass(i)}}},function(e,o,i){var n=i(5);e.exports={init:function(){this.eventHandler()},eventHandler:function(){this.toggleForm(),this.submitForm(),"premium"==helpie_faq_object.plan&&n.getLoggedEmail()},submitForm:function(){var e=this;jQuery(".helpie-faq").on("click",".form__submit",(function(o){o.stopPropagation();var i=jQuery(this).closest(".form__section"),t=i.find(".form__text").val(),a=i.find(".form__email").val(),r=i.find(".form__textarea").val(),c=i.data("woo-product"),s=i.data("kb-category"),d={action:"helpie_faq_submission",nonce:e.nonce,question:t};a&&(d.email=a),r&&(d.answer=r),c&&(d.woo_product=c),s&&(d.kb_category=s),(t&&e._isEmail(a)||t&&null==a)&&(o.preventDefault(),n.postForm(d,i))}))},toggleForm:function(){jQuery(".helpie-faq").on("click",".form__toggle",(function(e){e.preventDefault(),e.stopPropagation(),(e=jQuery(this).parent().next(".form__section")).next().hide(),this.value===faqStrings.addFAQ?(this.value=faqStrings.hide,e.show()):(this.value=faqStrings.addFAQ,e.hide())}))},_isEmail:function(e){return!!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}}},function(e,o){e.exports={postForm:function(e,o){thisModule=this,jQuery.post(helpie_faq_object.ajax_url,e,(function(i){"publish"==(i=JSON.parse(i)).postStatus?(thisModule._successMessage(o),thisModule._appendItem(e,o)):"pending"==i.postStatus&&thisModule._successMessage(o)})),o.find(".form__text").val(""),o.find(".form__email").val(""),o.find(".form__textarea").val(""),"premium"==helpie_faq_object.plan&&thisModule.getLoggedEmail()},getLoggedEmail:function(){thisModule=this;var e={action:"helpie_faq_submission_get_logged_email",nonce:thisModule.nonce},o=jQuery(".form__section .form__email");o&&jQuery.get(helpie_faq_object.ajax_url,e,(function(e){(e=JSON.parse(e)).loggedEmail&&o.val(e.loggedEmail)}))},_appendItem:function(e,o){var i=o.parent().find(".accordion");(o={action:"helpie_faq_submission_get_item",nonce:thisModule.nonce,title:e.question}).content=e.answer||"Empty Content",jQuery.post(helpie_faq_object.ajax_url,o,(function(e){e=JSON.parse(e),i.append(e.singleItem)}))},_successMessage:function(e){e.hide(),e.next().show()}}},function(e,o,i){}]);
//# sourceMappingURL=main.bundle.js.map