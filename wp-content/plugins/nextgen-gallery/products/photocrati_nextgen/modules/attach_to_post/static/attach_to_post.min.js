function adjust_height_for_frame(e,t,i){if(!/crios|iP(hone|od|ad)/i.test(navigator.userAgent))return void 0===i||i(e,t);var n=jQuery(t.frameElement),a=n.contents().height()/3,o=n.contents().find("#wpbody").height(),s=jQuery(e.document).height(),d=n.height();if(0===o&&(o=n.contents().height()),a<o&&(a=o),a<s&&(a=s),d<a){var c=n.attr("id");if(c&&0===c.indexOf("ngg-iframe-")){var r=c.substr(11);r&&jQuery("#"+r).height(a)}}return void 0===i||i(e,t,a)}function close_attach_to_post_window(){if(is_block_editor()){const e=parent.document.getElementById(window.name),t=new Event("NGG_Close_Modal");e.dispatchEvent(t)}else{const i=jQuery(top.document).find("#TB_window iframe").attr("src");i&&i.match("attach_to_post")?top.tb_remove():top.tinyMCE.activeEditor.windowManager.close(window)}}function insert_into_editor(e,t){if(is_block_editor()){const i=parent.document.getElementById(window.name),n=new CustomEvent("NGG_Insert_Gallery",{detail:{shortcode:e}});i.dispatchEvent(n)}else if(is_visual_editor()){var a=top.tinyMCE.activeEditor;a.selection.getNode().outerHTML.indexOf(t)>=0?jQuery(a.selection.getNode()).attr("data-shortcode",e.substring(1,e.length-1)):a.execCommand("mceInsertContent",!1,e),a.selection.collapse(!1)}else if(myField=top.document.getElementById("content"),myValue=e,document.selection)myField.focus(),sel=document.selection.createRange(),sel.text=myValue;else if(myField.selectionStart||"0"===myField.selectionStart){var o=myField.selectionStart,s=myField.selectionEnd;myField.value=myField.value.substring(0,o)+myValue+myField.value.substring(s,myField.value.length)}else myField.value+=myValue}function is_visual_editor(){return 0===jQuery(top.document).find(".html-active:visible").length}function is_block_editor(){return void 0!==window.name&&"add-ngg-gallery-block-iframe"===window.name}function ngg_get_measures_for_frame(e){var t=jQuery(e),i=t.attr("id"),n={};if(i&&0===i.indexOf("ngg-iframe-")){if(i.substr(11)){var a=jQuery(document);n.scrollTop=a.scrollTop()-40,window.parent?n.scrollHeight=jQuery(window.parent.document).find(".ngg_attach_to_post_window").height()-40:n.scrollHeight=a.height(),void 0!==window.console&&console.log(n)}}return n}this.id="ngg-attach_to_post",jQuery(function(e){if(/crios|iP(hone|od|ad)/i.test(navigator.userAgent)&&e("#attach_to_post_tabs").addClass("ngg_atp_ios_detected"),e("#attach_to_post_tabs").ngg_tabs({onShowTab:function(t){navigator.appVersion.match(/Chrome\/(69|7)/)&&("displayed_tab"!=t.attr("id")?e("#attach_to_post_tabs").addClass("chrome_70_hack_frames").removeClass("chrome_70_hack_noframes"):e("#attach_to_post_tabs").removeClass("chrome_70_hack_frames").addClass("chrome_70_hack_noframes"))}}),e(".ngg_page_content_menu a").on("click",function(){"preview_tab"===e(this).attr("data-id")&&e("#preview_area").trigger("opened")}),e(".accordion").accordion({clearStyle:!0,autoHeight:!1,heightStyle:"content"}),e(".ui-tabs-nav li:first-of-type a").addClass("active_tab"),e(".ui-tabs-nav a").click(function(t){e(".ui-tabs-nav a").removeClass("active_tab"),e(this).addClass("active_tab");var i=t.target?t.target:t.srcElement;if(e(i).parent().hasClass("ui-state-active")){var n=e(i.hash+" iframe");n.length>0&&n[0].contentDocument.location!=n.attr("src")&&(n[0].contentDocument.location=n.attr("src"))}}),e(this).keydown(function(e){return 27===e.keyCode&&close_attach_to_post_window(),!0}),e("body").css({position:"static",visibility:"visible"}).animate({opacity:1}),e("#displayed_tab .ngg_igw_video_open").click(function(t){e("#displayed_tab .ngg_igw_video_inner").append('<iframe class="ngg_igw_video_iframe" width="1050" height="590" src="https://www.youtube.com/embed/mNEnY23i9DE?rel=0" frameborder="0" allowfullscreen></iframe>'),e("#displayed_tab .ngg_igw_video_inner").css("display","block"),e("#displayed_tab .ngg_igw_video_open").css("display","none")}),e("#displayed_tab .ngg_igw_video_close").click(function(t){e("#displayed_tab .ngg_igw_video_iframe").remove(),e("#displayed_tab .ngg_igw_video_inner").css("display","none"),e("#displayed_tab .ngg_igw_video_open").css("display","block")}),e(".ngg_page_content_menu a").click(function(t){"choose_display"==e(this).attr("data-id")?e("#displayed_tab .ngg_igw_video_open").css("display","block"):(e("#displayed_tab .ngg_igw_video_open").css("display","none"),e("#displayed_tab .ngg_igw_video_inner").css("display","none"))}),is_block_editor()){const t=parent.document.getElementById(window.name),i=new Event("NGG_Iframe_Ready");t.dispatchEvent(i)}});